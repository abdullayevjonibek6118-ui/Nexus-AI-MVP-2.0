# üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ GigaChat API

## –î–∞–Ω–Ω—ã–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

- **Client ID:** `019b9dbd-68f9-7cb0-a899-792120ee2477`
- **Scope:** `GIGACHAT_API_PERS`
- **–ö–ª—é—á –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:** –ù–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `.env` —Ñ–∞–π–ª–µ

## –®–∞–≥–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### 1. –ü–æ–ª—É—á–∏—Ç–µ Client Secret

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://developers.sber.ru/studio/
2. –í–æ–π–¥–∏—Ç–µ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
3. –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç —Å Client ID: `019b9dbd-68f9-7cb0-a899-792120ee2477`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Client Secret**

### 2. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ Base64 –∫–ª—é—á

**–í–∞—Ä–∏–∞–Ω—Ç –ê: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É—Ç–∏–ª–∏—Ç—É (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```bash
python setup_gigachat.py
```

–í–≤–µ–¥–∏—Ç–µ Client Secret, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –∑–∞–ø—Ä–æ—à–µ–Ω.

**–í–∞—Ä–∏–∞–Ω—Ç –ë: –í—Ä—É—á–Ω—É—é**
```python
import base64

client_id = "019b9dbd-68f9-7cb0-a899-792120ee2477"
client_secret = "–≤–∞—à-client-secret"

credentials = f"{client_id}:{client_secret}"
api_key = base64.b64encode(credentials.encode()).decode()
print(api_key)
```

### 3. –î–æ–±–∞–≤—å—Ç–µ –≤ .env

–°–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `backend/.env`:

```env
# GigaChat API
GIGACHAT_API_KEY="–≤–∞—à-base64-–∫–ª—é—á-–∑–¥–µ—Å—å"
GIGACHAT_SCOPE="GIGACHAT_API_PERS"
USE_GIGACHAT=true
```

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

```bash
python test_gigachat.py
```

–ï—Å–ª–∏ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
‚úÖ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´ –£–°–ü–ï–®–ù–û!
üéâ GigaChat API –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!
```

### 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend —Å–µ—Ä–≤–µ—Ä, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Å—Ç—É–ø–∏–ª–∏ –≤ —Å–∏–ª—É.

## –ï—Å–ª–∏ –∫–ª—é—á —É–∂–µ –≤ .env

–ï—Å–ª–∏ Base64 –∫–ª—é—á —É–∂–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `.env` —Ñ–∞–π–ª–µ:

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `backend/.env` –µ—Å—Ç—å:
   ```env
   GIGACHAT_API_KEY="–≤–∞—à-–∫–ª—é—á"
   USE_GIGACHAT=true
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
   ```bash
   python test_gigachat.py
   ```

## Troubleshooting

### –û—à–∏–±–∫–∞: "GIGACHAT_API_KEY –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª `.env` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ `backend/`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á —É–∫–∞–∑–∞–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ: `GIGACHAT_API_KEY="–∫–ª—é—á"`

### –û—à–∏–±–∫–∞: "401 Unauthorized"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å Base64 –∫–ª—é—á–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Client ID –∏ Client Secret –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ scope —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–∞–∫ `GIGACHAT_API_PERS`

### –û—à–∏–±–∫–∞: "SSL Certificate verify failed"
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–≤ –∫–æ–¥–µ –æ—Ç–∫–ª—é—á–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ SSL)
- –í production –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –°–±–µ—Ä–∞

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [GIGACHAT_INTEGRATION.md](./GIGACHAT_INTEGRATION.md)
